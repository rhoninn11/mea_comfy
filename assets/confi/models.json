{
    "models":[
        {
            "link": "https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0/resolve/main/sd_xl_base_1.0_0.9vae.safetensors",
            "name": "sd_xl_base_1.0_0.9vae.safetensors",
            "dst": "/checkpoints"
        },
        {
            "link": "https://huggingface.co/diffusers/stable-diffusion-xl-1.0-inpainting-0.1/resolve/main/unet/diffusion_pytorch_model.fp16.safetensors",
            "name": "sd_xl_1.0_inpaint.safetensors",
            "dst": "models/unet"
        },
        {
            "link": "",
            "name": "",
            "dst": ""
        },
        {
            "link": "",
            "name": "",
            "dst": ""
        },
    ]
}

download_clip_standard() {
    MODEL_NAME="CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors"
    MODEL_URL="https://huggingface.co/h94/IP-Adapter/resolve/main/models/image_encoder/model.safetensors"

    COMFY_UI_MODEL_DIR="/workspace/comfy_ui/models/clip_vision"
    MODEL_PATH="${COMFY_UI_MODEL_DIR}/${MODEL_NAME}"

    if [ -f "$MODEL_PATH" ]; then
        echo "+++ ${MODEL_NAME} already exists"
        return
    fi
    mkdir -p $COMFY_UI_MODEL_DIR
    cd $COMFY_UI_MODEL_DIR
    wget $MODEL_URL
    mv model.safetensors $MODEL_NAME
    echo "+++ ${MODEL_NAME} downloaded"
    return
}

download_clip_xl() {
    MODEL_NAME="CLIP-ViT-bigG-14-laion2B-39B-b160k.safetensors"
    MODEL_URL="https://huggingface.co/h94/IP-Adapter/resolve/main/sdxl_models/image_encoder/model.safetensors"

    COMFY_UI_MODEL_DIR="/workspace/comfy_ui/models/clip_vision"
    MODEL_PATH="${COMFY_UI_MODEL_DIR}/${MODEL_NAME}"

    if [ -f "$MODEL_PATH" ]; then
        echo "+++ ${MODEL_NAME} already exists"
        return
    fi

    mkdir -p $COMFY_UI_MODEL_DIR
    cd $COMFY_UI_MODEL_DIR
    wget $MODEL_URL
    mv model.safetensors $MODEL_NAME
    echo "+++ ${MODEL_NAME} downloaded"
    return
}

downloadc_ipadapter_vit_h() {
    MODEL_NAME="ip-adapter_sdxl_vit-h.safetensors"
    MODEL_URL="https://huggingface.co/h94/IP-Adapter/resolve/main/sdxl_models/ip-adapter_sdxl_vit-h.safetensors"

    COMFY_UI_MODEL_DIR="/workspace/comfy_ui/models/ipadapter"
    MODEL_PATH="${COMFY_UI_MODEL_DIR}/${MODEL_NAME}"

    if [ -f "$MODEL_PATH" ]; then
        echo "+++ ${MODEL_NAME} already exists"
        return
    fi

    mkdir -p $COMFY_UI_MODEL_DIR
    cd $COMFY_UI_MODEL_DIR
    wget $MODEL_URL
    echo "+++ ${MODEL_NAME} downloaded"
    return
}

downloadc_ipadapter_plus_vit_h() {
    MODEL_NAME="ip-adapter-plus_sdxl_vit-h.safetensors"
    MODEL_URL="https://huggingface.co/h94/IP-Adapter/resolve/main/sdxl_models/ip-adapter-plus_sdxl_vit-h.safetensors"

    COMFY_UI_MODEL_DIR="/workspace/comfy_ui/models/ipadapter"
    MODEL_PATH="${COMFY_UI_MODEL_DIR}/${MODEL_NAME}"

    if [ -f "$MODEL_PATH" ]; then
        echo "+++ ${MODEL_NAME} already exists"
        return
    fi

    mkdir -p $COMFY_UI_MODEL_DIR
    cd $COMFY_UI_MODEL_DIR
    wget $MODEL_URL
    echo "+++ ${MODEL_NAME} downloaded"
    return
}

downloadc_ipadapter_plus_face_vit_h() {
    MODEL_NAME="ip-adapter-plus-face_sdxl_vit-h.safetensors"
    MODEL_URL="https://huggingface.co/h94/IP-Adapter/resolve/main/sdxl_models/ip-adapter-plus-face_sdxl_vit-h.safetensors"

    COMFY_UI_MODEL_DIR="/workspace/comfy_ui/models/ipadapter"
    MODEL_PATH="${COMFY_UI_MODEL_DIR}/${MODEL_NAME}"

    if [ -f "$MODEL_PATH" ]; then
        echo "+++ ${MODEL_NAME} already exists"
        return
    fi

    mkdir -p $COMFY_UI_MODEL_DIR
    cd $COMFY_UI_MODEL_DIR
    wget $MODEL_URL
    echo "+++ ${MODEL_NAME} downloaded"
    return
}

downloadc_ipadapter_composition() {
    MODEL_NAME="ip_plus_composition_sdxl.safetensors"
    MODEL_URL="https://huggingface.co/ostris/ip-composition-adapter/resolve/main/ip_plus_composition_sdxl.safetensors"

    COMFY_UI_MODEL_DIR="/workspace/comfy_ui/models/ipadapter"
    MODEL_PATH="${COMFY_UI_MODEL_DIR}/${MODEL_NAME}"

    if [ -f "$MODEL_PATH" ]; then
        echo "+++ ${MODEL_NAME} already exists"
        return
    fi

    mkdir -p $COMFY_UI_MODEL_DIR
    cd $COMFY_UI_MODEL_DIR
    wget $MODEL_URL
    echo "+++ ${MODEL_NAME} downloaded"
    return
}

# loras hugging face
download_lora_hyper_2_step() {

    MODEL_NAME="Hyper-SDXL-2steps-lora.safetensors"
    MODEL_URL="https://huggingface.co/ByteDance/Hyper-SD/resolve/main/Hyper-SDXL-2steps-lora.safetensors"

    COMFY_UI_MODEL_DIR="/workspace/comfy_ui/models/loras"
    MODEL_PATH="${COMFY_UI_MODEL_DIR}/${MODEL_NAME}"

    if [ -f "$MODEL_PATH" ]; then
        echo "+++ ${MODEL_NAME} already exists"
        return
    fi

    cd $COMFY_UI_MODEL_DIR
    wget $MODEL_URL
    echo "+++ ${MODEL_NAME} downloaded"
    return
}

download_lora_hyper_4_step() {

    MODEL_NAME="Hyper-SDXL-4steps-lora.safetensors"
    MODEL_URL="https://huggingface.co/ByteDance/Hyper-SD/resolve/main/Hyper-SDXL-4steps-lora.safetensors"

    COMFY_UI_MODEL_DIR="/workspace/comfy_ui/models/loras"
    MODEL_PATH="${COMFY_UI_MODEL_DIR}/${MODEL_NAME}"

    if [ -f "$MODEL_PATH" ]; then
        echo "+++ ${MODEL_NAME} already exists"
        return
    fi

    cd $COMFY_UI_MODEL_DIR
    wget $MODEL_URL
    echo "+++ ${MODEL_NAME} downloaded"
    return
}

download_lora_hyper_12_step() {

    MODEL_NAME="Hyper-SDXL-12steps-CFG-lora.safetensors"
    MODEL_URL="https://huggingface.co/ByteDance/Hyper-SD/resolve/main/Hyper-SDXL-12steps-CFG-lora.safetensors"

    COMFY_UI_MODEL_DIR="/workspace/comfy_ui/models/loras"
    MODEL_PATH="${COMFY_UI_MODEL_DIR}/${MODEL_NAME}"

    if [ -f "$MODEL_PATH" ]; then
        echo "+++ ${MODEL_NAME} already exists"
        return
    fi

    cd $COMFY_UI_MODEL_DIR
    wget $MODEL_URL
    echo "+++ ${MODEL_NAME} downloaded"
    return
}

download_lora_noise_offset() {

    MODEL_NAME="sd_xl_offset_example-lora_1.0.safetensors"
    MODEL_URL="https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0/resolve/main/sd_xl_offset_example-lora_1.0.safetensors"

    COMFY_UI_MODEL_DIR="/workspace/comfy_ui/models/loras"
    MODEL_PATH="${COMFY_UI_MODEL_DIR}/${MODEL_NAME}"

    if [ -f "$MODEL_PATH" ]; then
        echo "+++ ${MODEL_NAME} already exists"
        return
    fi

    cd $COMFY_UI_MODEL_DIR
    wget $MODEL_URL
    echo "+++ ${MODEL_NAME} downloaded"
    return
}